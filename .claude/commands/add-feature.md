---
description: 指定された機能の設計を開始し、.steering/ 内に作業用ドキュメントを生成する
---

# 新機能の設計開始

**引数**:

- feature: 実装したい機能の名称

---

## ステップ1: 準備とコンテキスト設定

1. 現在のタスクコンテキストを確立する:
  - 機能名: `[引数で与えられた機能名]`
  - 日付: `[現在の日付をYYYYMMDD形式で取得]`
  - ステアリングディレクトリパス: `.steering/[日付]-[機能名]/`
2. 上記ステアリングディレクトリを作成する。
3. 以下の3つの空ファイルを作成する:
  - `[ステアリングディレクトリパス]/requirements.md`
  - `[ステアリングディレクトリパス]/design.md`
  - `[ステアリングディレクトリパス]/tasklist.md`

## ステップ2: プロジェクト理解

1. `CLAUDE.md`を読み、プロジェクトの全体像を把握する。
2. `docs/`ディレクトリ内の永続ドキュメントを確認し、関連する設計思想やアーキテクチャを理解する。

## ステップ3: 計画フェーズ (ステアリングファイルの自動生成)

1. `Skill('steering')`を**計画モード**で実行し、ステップ1で作成した3つのファイル (`requirements.md`, `design.md`, `tasklist.md`) の内容を生成する。

## ステップ4: 検証ループ (tasklist.mdの完全消化)

**このステップは、`tasklist.md`の全タスクが `[x]` になるまで自動で繰り返されるループ処理です。**
**このステップが正常に完了したら、決して停止せず、ただちにステップ6に進むこと。**

**ループ開始:**

1. タスクリストの読み込み:
  - `[ステアリングディレクトリパス]/tasklist.md`ファイルを読み込む。
2. 進捗の確認:
  - ファイル内に未完了タスク (`[ ]`) が存在するか確認する。
  - **もし未完了タスクが存在しない場合:** この実装ループは完了とみなし、ただちに**ステップ6**へ進む。
  - **もし未完了タスクが存在する場合:** 次の処理（3. タスクの実行）に進む。
3. タスクの実行:
  - `tasklist.md`の**先頭にある未完了タスク**を1つ特定する。
  - そのタスクを完了させるために必要な実装作業を実行する。
  - `Skill('steering')`を**実装モード**で使用する。
4. タスクリストの更新:
  - 実行したタスクが完了したら、`Edit`ツールを使用して`tasklist.md`を更新し、該当タスクを `[ ]` から `[x]` に変更する。
5. ループ継続:
  - **ステップ5の先頭 (1. タスクリストの読み込み) に戻り、処理を繰り返す。**
