# プロジェクト用語集 (Glossary)

## 概要

このドキュメントは、Echo プロジェクト内で使用される用語の定義を管理する。

**更新日**: 2026-02-15

## ドメイン用語

### Echo

**定義**: 自分専用の非公開型マイクロブログ。本プロジェクトのプロダクト名。

**説明**: Slackの分報文化を個人に最適化したWebアプリケーション。SNS要素を一切排除し、仕事中の思考・気づき・進捗を自分だけの場所に記録する。デスクトップの隅に小さなウィンドウで常時表示して使用する。

**関連用語**: [分報](#分報), [投稿](#投稿), [タイムライン](#タイムライン)

**英語表記**: Echo

### 分報

**定義**: 仕事中に作業ログやつぶやきを短文で投稿する文化・習慣。

**説明**: 元々はSlackのチーム内チャンネルで行われていた「個人の作業実況」。Echoはこの分報文化を、他者の目を気にせずに行える個人空間として再定義する。

**関連用語**: [Echo](#echo), [投稿](#投稿)

**使用例**:
- 「分報として使えるように、投稿は5秒以内に完了できる」
- 「Slackの分報とは違い、自分しか見られない」

**英語表記**: Funho (Personal Status Update)

### 投稿

**定義**: ユーザーが記録するテキストの単位。1〜280文字のテキストと0個以上のタグで構成される。

**説明**: マイクロブログにおける最小の記録単位。作成日時を持ち、タイムラインに時系列で表示される。編集機能はMVPスコープ外。

**関連用語**: [タグ](#タグ), [タイムライン](#タイムライン)

**使用例**:
- 「投稿を作成する」: テキストとタグを入力して記録する
- 「投稿を削除する」: 不要な投稿をタイムラインから除去する

**データモデル**: `posts` テーブル (`src/types/database.ts`)

**英語表記**: Post

### タグ

**定義**: 投稿を分類するためのラベル。1〜50文字の文字列。

**説明**: 投稿に0個以上付与できる。タグをクリックすることで同じタグが付いた投稿をフィルタリングできる。タグ名はユーザー内で一意。オートコンプリートで既存タグの選択も可能。

**関連用語**: [投稿](#投稿), [タグフィルタ](#タグフィルタ)

**使用例**:
- 「投稿にタグを付ける」: 投稿作成時に `#設計` `#API` などのタグを付与する
- 「タグでフィルタリングする」: 特定タグの投稿だけを表示する

**データモデル**: `tags` テーブル, `post_tags` テーブル (`src/types/database.ts`)

**英語表記**: Tag

### タイムライン

**定義**: 投稿を新しい順に一覧表示する画面。Echoのメイン画面。

**説明**: 投稿フォーム（PostComposer）が上部に固定表示され、その下に投稿が時系列で並ぶ。無限スクロールで過去の投稿を遡れる。タグフィルタや検索でフィルタリング可能。

**関連用語**: [投稿](#投稿), [タグフィルタ](#タグフィルタ), [無限スクロール](#無限スクロール)

**英語表記**: Timeline

### タグフィルタ

**定義**: 特定のタグが付いた投稿のみをタイムラインに表示する機能。

**説明**: タグをクリックするとクエリパラメータ `?tag=xxx` が付与され、該当タグの投稿のみが表示される。画面遷移ではなくタイムラインの内容が切り替わる。

**関連用語**: [タグ](#タグ), [タイムライン](#タイムライン)

**英語表記**: Tag Filter

### 許可リスト

**定義**: Echoにログイン可能なメールアドレスの一覧。

**説明**: 環境変数 `ALLOWED_EMAILS` にカンマ区切りで設定する。OAuth認証成功後、サーバー側でこのリストと照合し、一致しないユーザーのアクセスを拒否する。個人専用アプリのため、実質的に自分のメールアドレスのみが登録される。

**関連用語**: [OAuth](#oauth)

**英語表記**: Allowlist

## 技術用語

### TanStack Start

**定義**: TanStack Router をベースとしたフルスタック React フレームワーク。

**本プロジェクトでの用途**: アプリケーションのフレームワーク。ファイルベースルーティング、Server Functions、SSR を提供。

**バージョン**: 1.x (RC)

**関連ドキュメント**: [アーキテクチャ設計書](./architecture.md)

### TanStack Router

**定義**: フルタイプセーフな React ルーティングライブラリ。

**本プロジェクトでの用途**: ルーティング。パス・検索パラメータが型レベルで検証される。`app/routes/` にファイルベースでルートを定義。

**バージョン**: 1.x

### TanStack Query

**定義**: React 向けの非同期状態管理ライブラリ。データ取得、キャッシュ、同期を宣言的に管理する。

**本プロジェクトでの用途**: Server Functions の呼び出し、レスポンスのキャッシュ、楽観的更新、無限スクロール。`src/features/*/hooks/` のカスタムhookで使用。

**バージョン**: 5.x

### Supabase

**定義**: PostgreSQL ベースのオープンソース BaaS (Backend as a Service)。

**本プロジェクトでの用途**: 認証（OAuth）、データベース（PostgreSQL）、Row Level Security を利用。Free プランで運用。

**バージョン**: supabase-js 2.x

**関連ドキュメント**: [アーキテクチャ設計書](./architecture.md)

### shadcn/ui

**定義**: Radix UI ベースのアクセシブルなコンポーネントライブラリ。コピー&ペースト方式で依存が軽い。

**本プロジェクトでの用途**: Button, Dialog, Input, Badge 等の汎用UIコンポーネント。`src/components/ui/` に配置。

### Biome

**定義**: Linter と Formatter を統合した高速な JavaScript/TypeScript ツール。

**本プロジェクトでの用途**: コードフォーマットとリント。ESLint + Prettier の代替。Edit/Write 後に hook で自動実行。

**設定ファイル**: `biome.json`

## 略語・頭字語

### RLS

**正式名称**: Row Level Security

**意味**: PostgreSQL のセキュリティ機能。テーブルの行単位でアクセス制御ポリシーを設定できる。

**本プロジェクトでの使用**: 全テーブル（posts, tags, post_tags）に `user_id = auth.uid()` のポリシーを設定し、自分のデータのみアクセス可能にする。

### OAuth

**正式名称**: Open Authorization

**意味**: サードパーティがパスワードなしでユーザー情報にアクセスするための認可プロトコル。

**本プロジェクトでの使用**: GitHub と Google の OAuth プロバイダを使用してログイン。Supabase Auth が処理を担当。

### MVP

**正式名称**: Minimum Viable Product

**意味**: プロダクトとして成立する最小限の機能セット。

**本プロジェクトでの使用**: PRD の P0 機能（OAuth認証、テキスト投稿、タイムライン、タグ）が MVP の範囲。

### SSR

**正式名称**: Server-Side Rendering

**意味**: サーバー側で HTML をレンダリングしてクライアントに返す手法。

**本プロジェクトでの使用**: TanStack Start の opt-in SSR。Echo は SEO 不要（非公開アプリ）のため、最小限の利用に留める。

## アーキテクチャ用語

### Server Function

**定義**: TanStack Start が提供するサーバーサイド実行関数。`createServerFn` で定義する。

**本プロジェクトでの適用**: 全てのデータ操作（投稿の作成・削除・取得、タグの取得、検索）を Server Function として実装。Zod バリデーションとセッション検証を含む。

**関連コンポーネント**: `src/features/*/server/`

### 楽観的更新

**定義**: サーバーの応答を待たずに UI を先行更新し、成功時はそのまま、失敗時はロールバックする手法。

**本プロジェクトでの適用**: 投稿作成時に TanStack Query の `onMutate` でタイムラインに仮表示。サーバー確定後にキャッシュを更新。

**関連コンポーネント**: `src/features/post/hooks/use-create-post.ts`

**英語表記**: Optimistic Update

### カーソルベースページネーション

**定義**: OFFSET ではなく、最後に取得したレコードの ID や日時を基準にして次のページを取得する方式。

**本プロジェクトでの適用**: タイムラインの無限スクロール。`created_at` + `id` をカーソルとして使用。OFFSET 方式より大量データでのパフォーマンスが良い。

**英語表記**: Cursor-based Pagination

### 無限スクロール

**定義**: ページ末尾に到達すると自動的に次のデータを読み込むUIパターン。

**本プロジェクトでの適用**: タイムラインの過去投稿の読み込み。TanStack Query の `useInfiniteQuery` で実装。

**英語表記**: Infinite Scroll

### Feature Module

**定義**: ドメイン固有のロジック・UI・型定義をまとめた機能単位のモジュール。

**本プロジェクトでの適用**: `src/features/` 配下に `auth/`, `post/`, `tag/`, `search/` の4モジュール。feature 間の直接依存は禁止。

**関連ドキュメント**: [プロジェクト構造定義書](./project-structure.md)

## データモデル用語

### posts

**定義**: 投稿を格納するテーブル。

**主要フィールド**:
- `id`: UUID v4（主キー）
- `content`: 投稿本文（1〜280文字）
- `user_id`: 投稿者ID（Supabase Auth UID）
- `created_at`: 作成日時

**関連エンティティ**: [post_tags](#post_tags)

**制約**: RLS で `user_id = auth.uid()` のみアクセス可能

### tags

**定義**: タグを格納するテーブル。

**主要フィールド**:
- `id`: UUID v4（主キー）
- `name`: タグ名（1〜50文字）
- `user_id`: 所有者ID
- `created_at`: 作成日時

**関連エンティティ**: [post_tags](#post_tags)

**制約**: `(user_id, name)` のユニーク制約

### post_tags

**定義**: 投稿とタグの多対多リレーションを管理する中間テーブル。

**主要フィールド**:
- `post_id`: 投稿ID（FK → posts.id, ON DELETE CASCADE）
- `tag_id`: タグID（FK → tags.id, ON DELETE CASCADE）

**制約**: 複合主キー `(post_id, tag_id)`

## 索引

### あ行
- [Echo](#echo) - ドメイン用語

### か行
- [カーソルベースページネーション](#カーソルベースページネーション) - アーキテクチャ用語
- [許可リスト](#許可リスト) - ドメイン用語

### た行
- [タイムライン](#タイムライン) - ドメイン用語
- [タグ](#タグ) - ドメイン用語
- [タグフィルタ](#タグフィルタ) - ドメイン用語
- [投稿](#投稿) - ドメイン用語

### は行
- [分報](#分報) - ドメイン用語

### ら行
- [楽観的更新](#楽観的更新) - アーキテクチャ用語

### A-Z
- [Biome](#biome) - 技術用語
- [Feature Module](#feature-module) - アーキテクチャ用語
- [MVP](#mvp) - 略語
- [OAuth](#oauth) - 略語
- [RLS](#rls) - 略語
- [Server Function](#server-function) - アーキテクチャ用語
- [shadcn/ui](#shadcnui) - 技術用語
- [SSR](#ssr) - 略語
- [Supabase](#supabase) - 技術用語
- [TanStack Query](#tanstack-query) - 技術用語
- [TanStack Router](#tanstack-router) - 技術用語
- [TanStack Start](#tanstack-start) - 技術用語
